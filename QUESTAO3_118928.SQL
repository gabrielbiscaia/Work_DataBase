CREATE DATABASE QUESTAO3_118928;

USE QUESTAO3_118928;

CREATE TABLE ORIENTADOR(
    ID_ORIENTADOR INT AUTO_INCREMENT,
    NOME_ORIENTADOR VARCHAR(70),
    PRIMARY KEY PK_ORIENTADOR(ID_ORIENTADOR)
);

CREATE TABLE MESTRADO(
    ID_MESTRADO INT AUTO_INCREMENT,
    NIVEL_MESTRADO VARCHAR(50),
    PRIMARY KEY PK_MESTRADO(ID_MESTRADO)
);

CREATE TABLE LUGAR(
    ID_LUGAR INT AUTO_INCREMENT,
    NOME_LUGAR VARCHAR(50),
    PRIMARY KEY PK_LUGAR(ID_LUGAR)
);

CREATE TABLE AUTOR(
    ID_AUTOR INT AUTO_INCREMENT,
    NOME_AUTOR VARCHAR(50),
    ID_ORIENTADOR INT,
    PRIMARY KEY PK_AUTOR(ID_AUTOR),
    FOREIGN KEY FK_ORIENTADOR(ID_ORIENTADOR) REFERENCES ORIENTADOR(ID_ORIENTADOR)
);

CREATE TABLE DEFESA(
    ID_DEFESA INT AUTO_INCREMENT,
    DATA_DEFESA VARCHAR(20),
    ID_AUTOR INT,
    ID_ORIENTADOR INT,
    ID_MESTRADO INT,
    ID_LUGAR INT,
    TITULO_DEFESA VARCHAR(100),
    PRIMARY KEY PK_DEFESA(ID_DEFESA),
    FOREIGN KEY FK_AUTOR(ID_AUTOR) REFERENCES AUTOR(ID_AUTOR),
    FOREIGN KEY FK_ORIENTADOR(ID_ORIENTADOR) REFERENCES ORIENTADOR(ID_ORIENTADOR),
    FOREIGN KEY FK_MESTRADO(ID_MESTRADO) REFERENCES MESTRADO(ID_MESTRADO),
    FOREIGN KEY FK_LUGAR(ID_LUGAR) REFERENCES LUGAR(ID_LUGAR)
);